{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import img1 from'../Images/logo.png';import tick from'../Images/tick.gif';// Import the tick image\nimport Footer from'../Components/footerforlogin';import'../Styles/Signup.css';// Assuming you have a CSS file for styles\nimport{Link}from'react-router-dom';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Signup=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({companyName:'',email:'',password:'',confirmPassword:''});const[error,setError]=useState('');const[registrationSuccess,setRegistrationSuccess]=useState(false);const[registeredUser,setRegisteredUser]=useState('');const[userId,setUserId]=useState('');// State to store the user ID\nconst handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});setError('');// Clear the error message when the user starts typing\n};const handleSubmit=async e=>{e.preventDefault();const{companyName,email,password,confirmPassword}=formData;if(password!==confirmPassword){setError(\"Passwords do not match\");return;}// Example: Minimum length check\nif(password.length<6){setError('Password must be at least 6 characters long');return;}// Regular expression to enforce at least one uppercase letter\nif(!/[A-Z]/.test(password)){setError('Password must contain at least one uppercase letter!');return;}// Regular expression to enforce at least one lowercase letter\nif(!/[a-z]/.test(password)){setError('Password must contain at least one lowercase letter!');return;}// Regular expression to enforce at least one digit\nif(!/\\d/.test(password)){setError('Password must contain at least one digit!');return;}// Regular expression to enforce at least one special character\nif(!/[!@#$%^&*(),.?\":{}|<>]/.test(password)){setError('Password must contain at least one special character!');return;}try{const response=await axios.post('http://localhost:5000/register',{companyName,email,password});setRegistrationSuccess(true);setRegisteredUser(companyName);setUserId(response.data.userId);// Store the user ID\nsetFormData({companyName:'',email:'',password:'',confirmPassword:''});setError('');// Clear the error message upon successful registration\n}catch(err){console.error(err);setError('Error registering user');}};function handleNavigate(){const loginDetails={loginStatus:false};localStorage.setItem('loginDetails',JSON.stringify(loginDetails));navigate('/');}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"registration-form\",children:[/*#__PURE__*/_jsx(\"img\",{src:img1,alt:\"Logo\",className:\"logo\"}),registrationSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsx(\"img\",{src:tick,alt:\"Success Tick\",className:\"tick\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Registration Success\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your account name is: \",/*#__PURE__*/_jsx(\"strong\",{children:registeredUser})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your user ID is: \",/*#__PURE__*/_jsx(\"strong\",{children:userId})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-prompt\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Please \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"login\"}),\" to continue\"]})})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"companyName\",value:formData.companyName,onChange:handleChange,placeholder:\"Enter your company name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Enter your email address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"Enter your password\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,placeholder:\"Confirm your password\",required:true})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),!registrationSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"login-prompt\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"or\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>handleNavigate(),children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Already Registered?/Login\"})})]})]}),/*#__PURE__*/_jsx(Footer,{})]})});};export default Signup;","map":{"version":3,"names":["React","useState","axios","img1","tick","Footer","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","navigate","formData","setFormData","companyName","email","password","confirmPassword","error","setError","registrationSuccess","setRegistrationSuccess","registeredUser","setRegisteredUser","userId","setUserId","handleChange","e","target","name","value","handleSubmit","preventDefault","length","test","response","post","data","err","console","handleNavigate","loginDetails","loginStatus","localStorage","setItem","JSON","stringify","children","className","src","alt","to","onSubmit","type","onChange","placeholder","required","onClick"],"sources":["/home/krishna/Documents/GitHub/Pinakastra-Cloud/src/View/Signup.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport img1 from '../Images/logo.png';\nimport tick from '../Images/tick.gif'; // Import the tick image\nimport Footer from '../Components/footerforlogin';\nimport '../Styles/Signup.css'; // Assuming you have a CSS file for styles\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\n\nconst Signup = () => {\n    const navigate=useNavigate()\n  const [formData, setFormData] = useState({\n    companyName: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n\n  const [error, setError] = useState('');\n  const [registrationSuccess, setRegistrationSuccess] = useState(false);\n  const [registeredUser, setRegisteredUser] = useState('');\n  const [userId, setUserId] = useState(''); // State to store the user ID\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n    setError('');  // Clear the error message when the user starts typing\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { companyName, email, password, confirmPassword } = formData;\n\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n    // Example: Minimum length check\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters long');\n      return;\n    }\n        // Regular expression to enforce at least one uppercase letter\n        if (!/[A-Z]/.test(password)) {\n          setError('Password must contain at least one uppercase letter!');\n          return;\n        }\n    \n        // Regular expression to enforce at least one lowercase letter\n        if (!/[a-z]/.test(password)) {\n          setError('Password must contain at least one lowercase letter!');\n          return;\n        }\n    \n        // Regular expression to enforce at least one digit\n        if (!/\\d/.test(password)) {\n          setError('Password must contain at least one digit!');\n          return;\n        }\n    \n        // Regular expression to enforce at least one special character\n        if (!/[!@#$%^&*(),.?\":{}|<>]/.test(password)) {\n          setError('Password must contain at least one special character!');\n          return;\n        }\n\n    try {\n      const response = await axios.post('http://localhost:5000/register', { companyName, email, password });\n      setRegistrationSuccess(true);\n      setRegisteredUser(companyName);\n      setUserId(response.data.userId); // Store the user ID\n      setFormData({\n        companyName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n      });\n      setError('');  // Clear the error message upon successful registration\n    } catch (err) {\n      console.error(err);\n      setError('Error registering user');\n    }\n  };\n\n  function handleNavigate(){\n    const loginDetails={\n        loginStatus:false\n    }\n    localStorage.setItem('loginDetails',JSON.stringify(loginDetails))\n    navigate('/')\n  }\n\n  return (\n      <>\n      <div className='App'>\n      <div className=\"registration-form\">\n        <img src={img1} alt=\"Logo\" className=\"logo\" />\n        {registrationSuccess ? (\n          <div className=\"success-message\">\n            <img src={tick} alt=\"Success Tick\" className=\"tick\" />\n            <h2>Registration Success</h2>\n            <p>Your account name is: <strong>{registeredUser}</strong></p>\n            <p>Your user ID is: <strong>{userId}</strong></p>\n            <div className=\"login-prompt\">\n              <p>Please <Link to=\"/\">login</Link> to continue</p>\n            </div>\n          </div>\n        ) : (\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Company Name:</label>\n              <input\n                type=\"text\"\n                name=\"companyName\"\n                value={formData.companyName}\n                onChange={handleChange}\n                placeholder=\"Enter your company name\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Email:</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                placeholder=\"Enter your email address\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Password:</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                placeholder=\"Enter your password\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Confirm Password:</label>\n              <input\n                type=\"password\"\n                name=\"confirmPassword\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                placeholder=\"Confirm your password\"\n                required\n              />\n            </div>\n            {error && <p className=\"error\">{error}</p>}\n            <button type=\"submit\">Register</button>\n          </form>\n        )}\n        {!registrationSuccess && (\n          <div className=\"login-prompt\">\n            <p>or</p>\n            <a onClick={()=>handleNavigate()}><Link to='/'>Already Registered?/Login</Link></a>\n          </div>\n        )}\n      </div>\n      <Footer />\n      </div>\n      </>\n    );    \n};\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}